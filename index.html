<!doctype html>
<html>
<head>
	<title>Paymo3 Timesheet Linker</title>
	<link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css" />
	<link rel="stylesheet" href="assets/bootstrap/css/bootstrap-theme.min.css" />
	<link rel="stylesheet" href="assets/css/style.css" />

	<script type="text/javascript" src="assets/jquery/jquery-1.11.2.min.js"></script>
	<script type="text/javascript" src="assets/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="assets/PapaParse/papaparse.min.js"></script>
	<script type="text/javascript" src="assets/js/moment.js"></script>
	<script type="text/javascript" src="assets/angular/angular.min.js"></script>
	<script type="text/javascript" src="assets/js/angular-file-model.js"></script>
	<script type="text/javascript" src="assets/js/app.js"></script>
</head>
<body ng-app="pml">
<div class="container-fluid" ng-controller="AppCtrl">
	<div class="row">
		<div class="col-md-12">
			<form class="form-inline login">
				<div class="form-group">
			    	<input type="text" ng-model="apikey" class="form-control" id="apikey" placeholder="API Key" />			    	
				</div>
				<button type="button" class="btn btn-default" ng-click="authorize()">Login</button>
			</form>
		</div>
	</div>
	<div class="row">
		<div class="col-md-3">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<div class="panel-title">Projects and Tasks</div>
				</div>
				<div class="panel-body">
					<input placeholder="Filter project/task..." type="text" ng-model="query" class="form-control" style="margin-botom: 15px;" />
					<ul class="no-bullet" ng-repeat="project in projects | filter:query">
						<li>
							<strong>{{ project.name }}</strong>
							<ul>
								<li ng-repeat="task in project.tasks">{{ task.name }}</li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="col-md-7">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<div class="panel-title">
						Unlinked Tasks ( {{ toHHMMSS(totalTime) }} )
					</div>
				</div>
				<div class="panel-body">
					<table class="table table-striped table-bordered">
						<thead>
							<tr>
								<th class="col-md-10">Task</th>
								<th class="col-md-2">Time</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="entry in entries">
								<td>{{ entry.title }}</td>
								<td>{{ entry.seconds.toHHMMSS() }}</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
		<div class="col-md-2">
			<div class="panel panel-info">
				<div class="panel-heading">
					<div class="panel-title">Choose a file (.csv)</div>
				</div>
				<div class="panel-body">
					<div class="form-group">
						<input accept=".csv" type="file" name="file" file-model="csvFile" class="form-control" />
					</div>
					<div class="form-group">
						<button type="button" ng-click="processFile()" class="btn btn-success form-control">Process</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</body>
</html>